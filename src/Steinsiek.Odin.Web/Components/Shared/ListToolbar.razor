<div class="d-print-none">
    <div class="mb-3">
        <SearchBar OnSearch="OnSearch" />
    </div>
    <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
        <div class="d-flex flex-wrap align-items-center gap-2">
            <AuthorizeView Roles="@OdinRoles.AdminOrManager">
                <Authorized>
                    <button class="btn btn-primary" @onclick="OnNew">
                        <i class="bi bi-plus-lg"></i>
                        <span class="d-none d-md-inline ms-1">New</span>
                    </button>
                    <button class="btn btn-secondary" disabled="@(SelectedCount == 0)" @onclick="OnEdit">
                        <i class="bi bi-pencil"></i>
                        <span class="d-none d-md-inline ms-1">Edit</span>
                    </button>
                    <button class="btn btn-danger" disabled="@(SelectedCount == 0)" @onclick="OnDelete">
                        <i class="bi bi-trash"></i>
                        <span class="d-none d-md-inline ms-1">Delete</span>
                    </button>
                </Authorized>
            </AuthorizeView>
        </div>
        <div class="d-flex flex-wrap align-items-center gap-2 ms-auto">
            <button class="btn btn-outline-secondary position-relative" @onclick="OnFilterToggle">
                <i class="bi bi-funnel"></i>
                <span class="d-none d-md-inline ms-1">Filter</span>
                @if (ActiveFilterCount > 0)
                {
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary">
                        @ActiveFilterCount
                    </span>
                }
            </button>
            <button class="btn btn-outline-secondary" @onclick="OnPrint">
                <i class="bi bi-printer"></i>
                <span class="d-none d-md-inline ms-1">Print</span>
            </button>
        </div>
    </div>
</div>

@code {
    /// <summary>
    /// The number of currently selected items.
    /// </summary>
    [Parameter]
    public int SelectedCount { get; set; }

    /// <summary>
    /// The number of active filters.
    /// </summary>
    [Parameter]
    public int ActiveFilterCount { get; set; }

    /// <summary>
    /// Callback invoked when the New button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnNew { get; set; }

    /// <summary>
    /// Callback invoked when the Edit button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnEdit { get; set; }

    /// <summary>
    /// Callback invoked when the Delete button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnDelete { get; set; }

    /// <summary>
    /// Callback invoked when the Print button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnPrint { get; set; }

    /// <summary>
    /// Callback invoked when the Filter button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnFilterToggle { get; set; }

    /// <summary>
    /// Callback invoked when the search term changes.
    /// </summary>
    [Parameter]
    public EventCallback<string> OnSearch { get; set; }
}
